<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>789</title>
  <link rel="stylesheet" href="../css/config-789.css">
</head>
<body>
  <!-- gọi chạy pháo hoa -->
  <canvas id="canvas"></canvas>

  <!-- ✅ LED hạt RGB chạy vòng quanh viền -->
  <svg class="led-border" viewBox="0 0 100 100" preserveAspectRatio="none" aria-hidden="true">
    <defs>
      <!-- Rainbow bảy sắc -->
      <linearGradient id="rgbDots" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%"   stop-color="#ff004c"/>
        <stop offset="16%"  stop-color="#ffcc00"/>
        <stop offset="33%"  stop-color="#00ff88"/>
        <stop offset="50%"  stop-color="#00aaff"/>
        <stop offset="66%"  stop-color="#9b00ff"/>
        <stop offset="83%"  stop-color="#ff6bd6"/>
        <stop offset="100%" stop-color="#ff004c"/>
      </linearGradient>
    </defs>

    <!-- Chỉ có hạt chạy -->
    <rect class="led-dots" x="2" y="2" width="96" height="96" rx="10" ry="10"></rect>
  </svg>

  <!-- Hai dòng domain, sẽ được gán text bằng JS -->
  <div class="content">
    <h1 class="autofit" style="margin:0 0 30px 0;" id="domain1"></h1>

    <!-- Đồng hồ GMT+7 -->
    <div id="clock-container">
      <div id="clock-line">--:--:-- - --/--/----</div>
    </div>
  </div>

  <script src="../js/firework.js"></script>
  <script src="../js/oclock.js"></script>

  <script>
    const CONFIG_URL = "../config.json";

    async function applyConfig() {
      try {
        const res = await fetch(CONFIG_URL + "?t=" + Date.now(), { cache: "no-cache" });
        if (!res.ok) throw new Error("Không load được config.json");

        const cfg = await res.json();

        if (cfg.title) document.title = cfg.title;

        const domains = cfg.domains789 || [];
        document.getElementById("domain1").textContent = domains[0] || "";

        if (cfg.enableFirework === true && !window._fireworkStarted) {
          window._fireworkStarted = false;
          // startFirework();
        }
      } catch (e) {
        console.error(e);
      }
    }

    applyConfig();
    setInterval(applyConfig, 10000);
  </script>

  <!-- Chạy script Double Fullscreen -->
  <script src="../js/fullscreen.js"></script>

  <!-- Tự động co chữ theo độ dài -->
  <script src="../js/autofit.js" defer></script>
</body>
</html>
